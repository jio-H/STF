###### StfNet: A Two-Stream Convolutional Neural Network for Spatiotemporal Image Fusion

时空图像融合被认为是提供高空间分辨率和频繁覆盖地球观测的一种很有前途的方法，近年来，基于学习的解决方案受到了广泛的关注。然而，这些算法将时空融合处理为单幅图像的超分辨率问题，<span style=color:blue>在实际应用中，由于存在较大的升阶因子，使得粗图像的空间信息损失较大</span>。<span style="background-color: yellow;">为了解决这一问题，本文利用精细图像序列中的时间信息，使用一种称为StfNet的双流卷积神经网络来解决时空融合问题。这篇论文的新颖性是双重的。<br>(1)首先，考虑到图像序列之间的时间相关性temporal dependence TD，结合相邻日期获取的精细图像对预测日期的粗略图像进行超分辨。这样，我们的网络不仅通过粗细图像对之间的结构相似性来预测精细图像，而且还利用可用的相邻精细图像中丰富的纹理信息来预测精细图像。<br>(2)其次，**我们考虑了时间序列图像之间的时间关系，并制定了时间约束，而不是独立地估计每一幅输出的精细图像。这种时间约束旨在保证融合结果的唯一性，并鼓励在学习中进行时间一致的预测，从而产生更现实的最终结果**。</span>我们使用两个陆地卫星-中分辨率成像光谱仪(MODIS)采集的实际数据集来评估STfNet的性能，视觉和定量评估都表明我们的算法达到了最先进的性能。







**不懂或需要注意的地方**

1. 使用时序信息

2. 时空图像融合与经典的自然图像超分辨率融合区别

   首先,在时空融合中,放大倍数(通常从8到16)远远大于在超分辨率(通常从2到4)。在这种情况下,粗图像的纹理细节已经严重模糊和扭曲，并且能用于细图像预测的先验性结构信息很少。此外，我们知道，遥感图像与自然图像相比，包含<span style=color:blue>更复杂的异质区域</span>，纹理细节丰富，这进一步增加了精细图像预测的难度。因此，仅从空间结构相似度学习映射函数是一个很不适定的逆问题，之前学习的模型中精细图像和粗图像之间的关系可能会无效。因此，仅从对应的粗图像中无法准确预测出细图像，

3. LBF模型

   LBF模型是一种基于回归的人脸关键点检测模型，其全称为Local Binary Feature（局部二值特征）模型。该模型通过训练得到一组回归器，每个回归器预测一组关键点的偏移量，从而实现对人脸关键点的检测。

   LBF模型主要包含以下几个步骤：

   1. 特征提取：利用Haar-like特征和LBP（Local Binary Pattern）特征提取人脸图像的局部特征。

   2. 数据集准备：收集一组带有关键点标注的人脸图像，并将每个关键点的位置表示为一个向量。

   3. 初始化：使用随机森林回归器初始化LBF模型。

   4. 迭代训练：通过迭代训练，不断优化回归器的参数，使其能够更准确地预测关键点的位置。

   5. 预测：对于一个新的人脸图像，使用训练好的LBF模型预测其关键点的位置。

   LBF模型在人脸关键点检测方面具有较高的精度和鲁棒性，被广泛应用于人脸识别、人脸表情识别、人脸姿态估计等领域。

4. 时间序列中的两种时间信息，即temporal dependence TD和时间一致性，都被纳入到学习中并被用于映射模型。通过这种方式，**可以很好地缓解病态逆问题，即从大量下采样的粗略图像中恢复细节，并且可以预期获得对丢失的精细图像的更准确的估计**。

5. 创新点

   1)与传统的基于学习的方法仅从相应的粗略图像估计精细图像不同，提出的STfNet结合了相邻的精细图像，并利用时间相关性(TD)来预测未知的细差图像。这样，我们的映射模型不需要仅从严重模糊的粗略图像中恢复细差图像。相反，它可以访问具有丰富纹理细节的相邻精细图像，并学习将这些分量转移到精细差异图像，从而产生更可信的图像模式。

   2)在网络学习过程中，我们的网络不是独立地估计每幅输出的精细图像，而是以时间约束的形式对时间序列图像之间的时间关系进行建模。这种时间约束旨在保证从正反向日期预测的最终目标精细图像的唯一性，并鼓励时间一致性预测，从而导致更准确的最终融合结果。

6. 时间相关性 TD：

   在图像时间序列中，时间变化(即差异图像)总是与图像模式中的原始图像内容相关，我们将不同图像与相邻精细图像之间的这种相关性称为时间相关性。与现有的基于学习的方法仅从相应的粗略图像估计精细图像不同，TD被结合到我们的网络体系结构中并作为预测的通用先验。（**简单做差是否能替换成某些效果更好，更易解释的方法**）

7. sparse representation稀疏表示, ELM 

   稀疏表示（Sparse Representation）是一种信号处理和机器学习技术，它利用线性组合来表示数据，其中只有少量的非零系数。这种表示可以帮助发现数据的潜在结构，并且在许多领域中都有广泛的应用，如图像处理、模式识别、信号处理等。

   ELM（Extreme Learning Machine）是一种机器学习算法，它是一种单隐层前馈神经网络，其特点是随机初始化输入层到隐层的连接权重和偏置，然后通过解析解的方式直接确定输出层到隐层的连接权重，而无需进行迭代训练。ELM算法的优点在于训练速度快，且具有较好的泛化能力。

   将稀疏表示与ELM相结合，可以得到一种强大的特征提取和分类方法。在这种方法中，首先使用稀疏表示来提取输入数据的稀疏特征表示，然后将这些稀疏特征表示输入到ELM中进行分类或回归任务。这种结合能够充分挖掘数据的潜在结构，提高分类或回归的准确性。因此，稀疏表示和ELM的结合在许多领域都有着广泛的应用，如图像分类、人脸识别、语音识别等。



小总结：

文章主要提出用时间的相关性和时间一致性来辅助做时空融合。

（我的理解）

时间相关性：从前后的精细图像中找到一个映射关系来预测中间的精细图像。

时间一致性：
$$
F_{12}=F_2-F_1\\
F_{23}=F_3-F_2\\
F_{13}=F_3-F_1\\
\\
F_{13}=F_{12}+F_{23}
$$
预测结果需要满足最后一个式子，所以就出现了时间一致性的约束



关于文章的网络架构并没说的很清楚，也没有代码。所以不做太多考虑。

双流体现在用$C_{12}和F_1来预测F_{12}$，$C_{23}和F_3来预测F_{23}$，在通过予实生成两张$F_2$，再通过组合生成最终的$F2$

